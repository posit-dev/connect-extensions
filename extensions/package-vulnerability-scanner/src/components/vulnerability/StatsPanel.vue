<script setup lang="ts">
import StatCard from "./StatCard.vue";

export type FilterType = "all" | "python" | "r" | "vulnerable";

defineProps<{
  totalPackages: number;
  pythonPackages: number;
  rPackages: number;
  vulnerabilities: number;
}>();

const filter = defineModel<FilterType>({ required: true });
</script>

<template>
  <div class="mb-4">
    <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
      <StatCard
        :count="vulnerabilities"
        :active="filter === 'vulnerable'"
        label="Vulnerabilities"
        type="error"
        @click="() => (filter = 'vulnerable')"
      />

      <StatCard
        :count="pythonPackages"
        :active="filter === 'python'"
        label="Python Packages"
        @click="() => (filter = 'python')"
      />

      <StatCard
        :count="rPackages"
        :active="filter === 'r'"
        label="R Packages"
        @click="() => (filter = 'r')"
      />

      <StatCard
        :count="totalPackages"
        :active="filter === 'all'"
        label="Total Packages"
        @click="() => (filter = 'all')"
      />
    </div>
  </div>
</template>
